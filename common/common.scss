// Custom Categories Sidebar Organizer Styles

@if $enable-sidebar-organizer {
  
  #custom-categories-sidebar {
    .custom-categories-header {
      border-bottom: 1px solid var(--primary-low);
    }

    .sidebar-section {
      margin-bottom: 1em;
    }

    .category-section-details {
      border: none;
      margin: 0;
      padding: 0;
    }

    .category-section-summary {
      cursor: pointer;
      list-style: none;
      padding: 0.75em 1em;
      border-radius: 6px;
      font-weight: 600;
      transition: all 0.2s ease;
      user-select: none;
      
      &::-webkit-details-marker {
        display: none;
      }
      
      &::marker {
        display: none;
      }

      // Add arrow indicator
      &::before {
        content: "â–¶";
        display: inline-block;
        margin-right: 0.5em;
        transition: transform 0.2s ease;
      }

      &:hover {
        filter: brightness(1.1);
      }
    }

    details[open] .category-section-summary::before {
      transform: rotate(90deg);
    }

    // Section colors with optional gradient fade
    @if $use-gradient-fade {
      .category-section-summary[data-section="1"] {
        background: linear-gradient(to right, $section-1-bg-color 0%, $section-1-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-1-text-color;
        }
      }
      
      .category-section-summary[data-section="2"] {
        background: linear-gradient(to right, $section-2-bg-color 0%, $section-2-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-2-text-color;
        }
      }
      
      .category-section-summary[data-section="3"] {
        background: linear-gradient(to right, $section-3-bg-color 0%, $section-3-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-3-text-color;
        }
      }
      
      .category-section-summary[data-section="4"] {
        background: linear-gradient(to right, $section-4-bg-color 0%, $section-4-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-4-text-color;
        }
      }

      .category-section-summary[data-section="5"] {
        background: linear-gradient(to right, $section-5-bg-color 0%, $section-5-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-5-text-color;
        }
      }

      .category-section-summary[data-section="6"] {
        background: linear-gradient(to right, $section-6-bg-color 0%, $section-6-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-6-text-color;
        }
      }

      .category-section-summary[data-section="7"] {
        background: linear-gradient(to right, $section-7-bg-color 0%, $section-7-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-7-text-color;
        }
      }

      .category-section-summary[data-section="8"] {
        background: linear-gradient(to right, $section-8-bg-color 0%, $section-8-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-8-text-color;
        }
      }

      .category-section-summary[data-section="9"] {
        background: linear-gradient(to right, $section-9-bg-color 0%, $section-9-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-9-text-color;
        }
      }

      .category-section-summary[data-section="10"] {
        background: linear-gradient(to right, $section-10-bg-color 0%, $section-10-bg-color 50%, transparent 100%);
        
        .category-section-title {
          color: $section-10-text-color;
        }
      }
    } @else {
      .category-section-summary[data-section="1"] {
        background: $section-1-bg-color;
        
        .category-section-title {
          color: $section-1-text-color;
        }
      }
      
      .category-section-summary[data-section="2"] {
        background: $section-2-bg-color;
        
        .category-section-title {
          color: $section-2-text-color;
        }
      }
      
      .category-section-summary[data-section="3"] {
        background: $section-3-bg-color;
        
        .category-section-title {
          color: $section-3-text-color;
        }
      }
      
      .category-section-summary[data-section="4"] {
        background: $section-4-bg-color;
        
        .category-section-title {
          color: $section-4-text-color;
        }
      }

      .category-section-summary[data-section="5"] {
        background: $section-5-bg-color;
        
        .category-section-title {
          color: $section-5-text-color;
        }
      }

      .category-section-summary[data-section="6"] {
        background: $section-6-bg-color;
        
        .category-section-title {
          color: $section-6-text-color;
        }
      }

      .category-section-summary[data-section="7"] {
        background: $section-7-bg-color;
        
        .category-section-title {
          color: $section-7-text-color;
        }
      }

      .category-section-summary[data-section="8"] {
        background: $section-8-bg-color;
        
        .category-section-title {
          color: $section-8-text-color;
        }
      }

      .category-section-summary[data-section="9"] {
        background: $section-9-bg-color;
        
        .category-section-title {
          color: $section-9-text-color;
        }
      }

      .category-section-summary[data-section="10"] {
        background: $section-10-bg-color;
        
        .category-section-title {
          color: $section-10-text-color;
        }
      }
    }

    .category-section-content {
      padding: 0.5em 0 0.5em 1.5em;
      
      .sidebar-section-link {
        display: block;
        padding: 0.5em 0.75em;
        margin: 0.25em 0;
        border-radius: 4px;
        text-decoration: none;
        transition: background 0.2s ease;
        
        &:hover {
          background: var(--d-hover);
        }
        
        .sidebar-section-link-content-text {
          color: var(--primary);
          display: flex;
          align-items: center;
          gap: 0.5em;
        }

        &.subcategory-link {
          padding-left: 1.5em;
          font-size: 0.95em;
          opacity: 0.9;
        }
      }
    }
    
    .category-badge {
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 2px;
      flex-shrink: 0;
    }
  }

  #sidebar-categories-toggle {
    margin-left: auto;
    background: transparent;
    border: none;
    cursor: pointer;
    font-size: 1.1em;
    padding: 0.25em 0.5em;
    border-radius: 4px;
    transition: background 0.2s ease;

    &:hover {
      background: var(--d-hover);
    }
  }

  // Ungrouped categories section
  #ungrouped-categories-sidebar {
    margin-top: 1em;
    padding-top: 1em;
    border-top: 1px solid var(--primary-low);

    .ungrouped-categories-title {
      font-size: 0.9em;
      font-weight: 600;
      color: var(--primary-medium);
      padding: 0.5em 1em;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .sidebar-section-link {
      display: block;
      padding: 0.5em 0.75em;
      margin: 0.25em 0;
      border-radius: 4px;
      text-decoration: none;
      transition: background 0.2s ease;
      
      &:hover {
        background: var(--d-hover);
      }
      
      .sidebar-section-link-content-text {
        color: var(--primary);
        display: flex;
        align-items: center;
        gap: 0.5em;
      }

      &.subcategory-link {
        padding-left: 1.5em;
        font-size: 0.95em;
        opacity: 0.9;
      }
    }
  }
}
